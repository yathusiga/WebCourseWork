<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>common</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="feedback.css">
</head>
<body>
    
    <nav>
        <label class="logo"><img src="photo/logo1.png" alt="logo" width="300px" height="100px"> </label>     
        <ul class="navlist">
            <li> <a class="active" href="homepage.html">HOME</a></li>
            <li> <a href="index_gallery.html" >GALLERY</a></li>
            <li> <a href="shop.html" >SHOP</a></li>
            <li> <a href="user_profile.html" >USER PROFILE</a></li>
            <li> <a href="feedback.html" >FEEDBACK</a></li>
            <li> <a href="index_sitemap.html">SITEMAP</a></li>
            <li> <a href="team.html" >TEAM</a></li>
        </ul>
    </nav>
    
    <center>
        <form class="feedbackForm" id="feedbackForm" action="#" method="post">
            <br> 
            <h2>Feedback Form</h2>
                
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required placeholder="Enter your name"><br><br><br>
                
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required placeholder="Enter your email address"><br><br><br>
                
            <label for="rating">Rating:</label>
            <select id="rating" name="rating" required>
                <option value="">Select Rating</option>
                <option value="1">1 Star</option>
                <option value="2">2 Stars</option>
                <option value="3">3 Stars</option>
                <option value="4">4 Stars</option>
                <option value="5">5 Stars</option>
            </select><br><br><br>
                
            <label>Would you recommend our service?</label>
            <div>
                <input type="radio" id="radioYes" name="recommendation" value="yes" required>
                <label for="radioYes">Yes</label>
                
                <input type="radio" id="radioNo" name="recommendation" value="no">
                <label for="radioNo">No</label> <br><br><br>
            </div>
                
            <label for="comment">Comment:</label><br>
            <textarea id="comment" name="comment" rows="4" cols="50" required placeholder="Enter message in here"></textarea><br><br><br><br>
                
            <button type="button" onclick="previewForm()">Preview</button>
            <button type="submit">Submit</button>
        </form>
                
        <div id="preview"></div>
    </center>
                    
    <script>
        // This function is called when the "Preview" button is clicked.
        function previewForm() {
                // It retrieves values from various form fields.
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const rating = document.getElementById('rating').value;
            const comment = document.getElementById('comment').value;
            const recommendation = document.querySelector('input[name="recommendation"]:checked');
   
            // It prepares a preview of the form data.
            const previewDiv = document.getElementById('preview');
            previewDiv.innerHTML = `<h3>Preview</h3>
                                    <p><strong>Name:</strong> ${name}</p>
                                    <p><strong>Email:</strong> ${email}</p>
                                    <p><strong>Rating:</strong> ${rating}</p>
                                    <p><strong>Would you recommend our service?</strong> ${recommendation ? recommendation.value : ''}</p>
                                    <p><strong>Comment:</strong> ${comment}</p>`;
        }
           
        // This part adds an event listener to the form submission.
        document.getElementById('feedbackForm').addEventListener('submit', function(event) {
            const emailField = document.getElementById('email');
            const emailValue = emailField.value;
            if (emailValue.trim() !== '' && !isValidEmail(emailValue)) {
                alert('Please enter a valid email address.');
                emailField.focus();
                event.preventDefault();
                return;
            }

            // It checks if all required fields are filled out.
            const requiredFields = ['name', 'email', 'rating', 'recommendation', 'comment'];
            for (const field of requiredFields) {
                if (field === 'recommendation') {
                    const checkedRadio = document.querySelector(`input[name="${field}"]:checked`);
                    if (!checkedRadio) {
                        alert(`Please select whether you would recommend our service.`);
                        event.preventDefault();
                        return;
                    }
                } else {
                    const fieldValue = document.getElementById(field).value;
                    if (fieldValue.trim() === '') {
                        alert(`Please enter your ${field === 'recommendation' ? 'selection' : field}.`);
                        document.getElementById(field).focus();
                        event.preventDefault();
                        return;
                    }
                }
            }
            
                        
            // confirmation message if all validation pass.
            alert('Thank you for your feedback!'); 
        });
                    
        function isValidEmail(email) {
            // Basic email validation regex
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
    </script>
    
    <footer>
        <div class="footer1">
            <div class="footer-content">
                <div class="we">
                    <sub> <b> ABOUT US:</b></sub> <br>
                    <a href="yathupage.html">Yathusiga Sivakanthan</a><br>
                    <a href="page_editor_Kemsara.html">Kemsara Pathirana</a><br>
                    <a href="linupage.html">Linushankaran Janarththanan</a><br>
                    <a href="page_editor_Sanjula.html">Sanjula Rathnamalala</a><br>
                </div>
            </div>
            <div class="footer-content">
                <div class="icons">
                    <i class="fa fa-facebook"></i>
                    <i class="fa fa-instagram"></i>
                    <i class="fa fa-twitter"></i>
                    <i class="fa fa-google"></i>
                    <i class="fa fa-skype"></i>
                </div>
            </div>
            <div class="footer-content">
                <div class="contentlinks">
                    <a href="https://www.globalgoals.org/terms-conditions/" >Terms & Conditions</a><br>
                    <a href="https://www.globalgoals.org/privacy-policy/" >Privacy Policy</a><br>
                    <a href="https://www.globalgoals.org/cookies/">Cookies</a><br>
                    <a href="https://www.globalgoals.org/anti-corruption/">Anti-Corruption</a><br>
                    <a href="https://www.globalgoals.org/asset-licence/">Asset Licence</a>
                </div>
            </div>
        </div>
    </footer>

</body>
</html>
